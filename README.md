# Save to Grow ğŸŒ± - Web3 Gamified Savings App

**Save to Grow** ã¯ã€Solanaãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚’æ´»ç”¨ã—ãŸã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è²¯é‡‘ã‚¢ãƒ—ãƒªã§ã™ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å°‚ç”¨ã®ã€ŒBoxï¼ˆé‡‘åº«ï¼‰ã€ã«SOLã‚’é ã‘ã‚‹ã“ã¨ã§ã€ç‹¬è‡ªã®NFTã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼ˆãƒ‡ã‚¸ã‚¿ãƒ«ãƒ„ãƒªãƒ¼ï¼‰ã‚’è‚²ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚é å…¥æ®‹é«˜ã«å¿œã˜ã¦NFTãŒé€²åŒ–ã—ã€æ™‚é–“ã®çµŒéã¨ã¨ã‚‚ã«ãƒªãƒ¯ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒè“„ç©ã•ã‚Œã‚‹ä»•çµ„ã¿ã‚’æä¾›ã—ã¾ã™ã€‚

*(ã“ã“ã«å®Ÿéš›ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’è²¼ã£ã¦ãã ã•ã„)*

## âœ¨ ä¸»ãªæ©Ÿèƒ½

* **Emailãƒ­ã‚°ã‚¤ãƒ³ (Magic Link)**: ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’æŒãŸãªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚‚ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã ã‘ã§å®‰å…¨ã«åˆ©ç”¨é–‹å§‹å¯èƒ½ï¼ˆSupabase Authï¼‰ã€‚
* **Embedded Wallet**: ã‚¢ãƒ—ãƒªå†…ã§ãƒãƒ³ã‚«ã‚¹ãƒˆãƒ‡ã‚£ã‚¢ãƒ«ãªSolanaã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’è‡ªå‹•ç”Ÿæˆãƒ»ç®¡ç†ã€‚
* **Box (Vault) æ©Ÿèƒ½**:
* SOLã®å…¥é‡‘ãƒ»å‡ºé‡‘ã€‚
* Anchorãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã‚‹ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³è³‡ç”£ç®¡ç†ã€‚


* **Dynamic NFT (æˆé•·ã™ã‚‹NFT)**:
* Boxã®æ®‹é«˜ã«å¿œã˜ã¦NFTã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆç”»åƒï¼‰ãŒè‡ªå‹•ã§é€²åŒ–ã—ã¾ã™ã€‚
* **ã‚¹ãƒ†ãƒ¼ã‚¸**: Sprout (0 SOL) â†’ Growing (>0 SOL) â†’ Legendary (â‰¥5 SOL)ã€‚
* Metaplex (Umi) ã‚’ä½¿ç”¨ã—ãŸDeterministic Mintï¼ˆè¨ˆç®—ã«ã‚ˆã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆï¼‰ã‚’æ¡ç”¨ã€‚


* **ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ **: é å…¥æœŸé–“ã¨é‡‘é¡ã«å¿œã˜ã¦ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã§ãƒã‚¤ãƒ³ãƒˆãŒè¨ˆç®—ãƒ»ä»˜ä¸ã•ã‚Œã¾ã™ã€‚
* **UI/UX**:
* `useCountUp` ã«ã‚ˆã‚‹æ•°å€¤ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºã€‚
* Supabase Realtimeã«ã‚ˆã‚‹å±¥æ­´ã®å³æ™‚åæ˜ ã€‚



## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Frontend

* **Framework**: Next.js 14 (App Router)
* **Language**: TypeScript
* **Styling**: Tailwind CSS
* **State Management**: React Hooks

### Blockchain (Solana)

* **Network**: Solana Devnet
* **Framework**: Anchor (Rust)
* **Client SDK**: `@solana/web3.js`, `@coral-xyz/anchor`
* **NFT Standard**: Metaplex (Umi, MPL Token Metadata)

### Backend / Infrastructure

* **Database & Auth**: Supabase (PostgreSQL, Authentication)
* **Hosting**: Vercel

## ğŸš€ ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œæ–¹æ³•

### å‰ææ¡ä»¶

* Node.js (v18ä»¥ä¸Šæ¨å¥¨)
* npm ã¾ãŸã¯ yarn
* Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
* Solana CLI & Anchor (ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’å¤‰æ›´ã™ã‚‹å ´åˆ)

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/your-username/save-to-grow.git
cd save-to-grow

```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆï¼ˆã¾ãŸã¯appãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰ã«ã¦
npm install

```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€Supabaseã®ã‚­ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

```

### 4. Supabaseã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (SQL)

Supabaseã®SQLã‚¨ãƒ‡ã‚£ã‚¿ã§ä»¥ä¸‹ã®ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã—ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

```sql
-- ã‚¦ã‚©ãƒ¬ãƒƒãƒˆç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«
create table user_wallets (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references auth.users not null,
  public_key text not null,
  secret_key text not null, -- æš—å·åŒ–æ¨å¥¨
  nft_mint text,
  created_at timestamptz default now()
);

-- å…¥å‡ºé‡‘å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«
create table transaction_history (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references auth.users not null,
  type text not null, -- 'Deposit', 'Withdraw', 'Initialize'
  amount numeric,
  gas numeric,
  created_at timestamptz default now()
);

-- é€é‡‘å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«
create table transfer_history (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references auth.users not null,
  destination text not null,
  amount numeric,
  fee numeric,
  created_at timestamptz default now()
);

-- RLS (Row Level Security) ã®æœ‰åŠ¹åŒ–
alter table user_wallets enable row level security;
alter table transaction_history enable row level security;
alter table transfer_history enable row level security;

-- ãƒãƒªã‚·ãƒ¼è¨­å®šï¼ˆé–‹ç™ºç”¨: èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å…¨æ¨©é™ï¼‰
create policy "Allow all for authenticated" on user_wallets for all to authenticated using (true);
create policy "Allow all for authenticated" on transaction_history for all to authenticated using (true);
create policy "Allow all for authenticated" on transfer_history for all to authenticated using (true);

```

### 5. ã‚¢ãƒ—ãƒªã®èµ·å‹•

```bash
npm run dev

```

`http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèªã—ã¾ã™ã€‚

## ğŸ“¦ ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ (Anchor)

`programs/save_to_grow/src/lib.rs` ã«ãƒ­ã‚¸ãƒƒã‚¯ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

* **Initialize**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®Vault PDAã¨Reward PDAã‚’ä½œæˆã€‚
* **Deposit/Withdraw**: è³‡é‡‘ã®ç§»å‹•ã¨åŒæ™‚ã«ã€çµŒéæ™‚é–“ã«å¿œã˜ãŸãƒªãƒ¯ãƒ¼ãƒ‰è¨ˆç®—ã‚’å®Ÿè¡Œã€‚
* **Transfer**: ã‚¢ãƒ—ãƒªå†…ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‹ã‚‰å¤–éƒ¨ã‚¢ãƒ‰ãƒ¬ã‚¹ã¸ã®é€é‡‘ã€‚

ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆDevnetï¼‰:

```bash
anchor build
anchor deploy --provider.cluster devnet

```

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
.
â”œâ”€â”€ app/                  # Next.js Pages & Layouts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ DepositSection.tsx # ãƒ¡ã‚¤ãƒ³UIãƒ­ã‚¸ãƒƒã‚¯ï¼ˆSolanaé€£æºå«ã‚€ï¼‰
â”‚   â””â”€â”€ AppWalletProvider.tsx
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useCountUp.ts     # æ•°å€¤ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒ•ãƒƒã‚¯
â”œâ”€â”€ programs/             # Anchor Smart Contracts (Rust)
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ supabaseClient.ts # SupabaseåˆæœŸåŒ–
â””â”€â”€ ...

```

## ğŸ“œ License

ISC License
